{"remainingRequest":"/Users/weizhibang/work/cloud_vue/node_modules/thread-loader/dist/cjs.js!/Users/weizhibang/work/cloud_vue/node_modules/babel-loader/lib/index.js!/Users/weizhibang/work/cloud_vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/weizhibang/work/cloud_vue/src/plugin/error/index.js","dependencies":[{"path":"/Users/weizhibang/work/cloud_vue/src/plugin/error/index.js","mtime":1538206615115},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/cache-loader/dist/cjs.js","mtime":1538207325695},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import store from '@/store';\nimport util from '@/libs/util';\nexport default {\n  install: function install(Vue, options) {\n    Vue.config.errorHandler = function (err, vm, info) {\n      Vue.nextTick(function () {\n        // 添加 log\n        store.dispatch('d2admin/log/add', {\n          type: 'error',\n          err: err,\n          vm: vm,\n          info: info\n        }); // 只在开发模式下打印 log\n\n        if (process.env.NODE_ENV === 'development') {\n          util.log.capsule('D2Admin', 'ErrorHandler', 'danger');\n          util.log.danger('>>>>>> 错误信息 >>>>>>');\n          console.log(info);\n          util.log.danger('>>>>>> Vue 实例 >>>>>>');\n          console.log(vm);\n          util.log.danger('>>>>>> Error >>>>>>');\n          console.log(err);\n        }\n      });\n    };\n  }\n};",{"version":3,"sources":["/Users/weizhibang/work/cloud_vue/src/plugin/error/index.js"],"names":["store","util","install","Vue","options","config","errorHandler","err","vm","info","nextTick","dispatch","type","process","env","NODE_ENV","log","capsule","danger","console"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,eAAe;AACbC,SADa,mBACJC,GADI,EACCC,OADD,EACU;AACrBD,QAAIE,MAAJ,CAAWC,YAAX,GAA0B,UAAUC,GAAV,EAAeC,EAAf,EAAmBC,IAAnB,EAAyB;AACjDN,UAAIO,QAAJ,CAAa,YAAM;AACjB;AACAV,cAAMW,QAAN,CAAe,iBAAf,EAAkC;AAChCC,gBAAM,OAD0B;AAEhCL,kBAFgC;AAGhCC,gBAHgC;AAIhCC;AAJgC,SAAlC,EAFiB,CAQjB;;AACA,YAAII,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1Cd,eAAKe,GAAL,CAASC,OAAT,CAAiB,SAAjB,EAA4B,cAA5B,EAA4C,QAA5C;AACAhB,eAAKe,GAAL,CAASE,MAAT,CAAgB,oBAAhB;AACAC,kBAAQH,GAAR,CAAYP,IAAZ;AACAR,eAAKe,GAAL,CAASE,MAAT,CAAgB,sBAAhB;AACAC,kBAAQH,GAAR,CAAYR,EAAZ;AACAP,eAAKe,GAAL,CAASE,MAAT,CAAgB,qBAAhB;AACAC,kBAAQH,GAAR,CAAYT,GAAZ;AACD;AACF,OAlBD;AAmBD,KApBD;AAqBD;AAvBY,CAAf","sourcesContent":["import store from '@/store'\nimport util from '@/libs/util'\n\nexport default {\n  install (Vue, options) {\n    Vue.config.errorHandler = function (err, vm, info) {\n      Vue.nextTick(() => {\n        // 添加 log\n        store.dispatch('d2admin/log/add', {\n          type: 'error',\n          err,\n          vm,\n          info\n        })\n        // 只在开发模式下打印 log\n        if (process.env.NODE_ENV === 'development') {\n          util.log.capsule('D2Admin', 'ErrorHandler', 'danger')\n          util.log.danger('>>>>>> 错误信息 >>>>>>')\n          console.log(info)\n          util.log.danger('>>>>>> Vue 实例 >>>>>>')\n          console.log(vm)\n          util.log.danger('>>>>>> Error >>>>>>')\n          console.log(err)\n        }\n      })\n    }\n  }\n}\n"]}]}