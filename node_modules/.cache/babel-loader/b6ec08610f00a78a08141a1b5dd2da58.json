{"remainingRequest":"/Users/weizhibang/work/cloud_vue/node_modules/thread-loader/dist/cjs.js!/Users/weizhibang/work/cloud_vue/node_modules/babel-loader/lib/index.js!/Users/weizhibang/work/cloud_vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/weizhibang/work/cloud_vue/src/store/modules/d2admin/modules/log.js","dependencies":[{"path":"/Users/weizhibang/work/cloud_vue/src/store/modules/d2admin/modules/log.js","mtime":1538206615118},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/cache-loader/dist/cjs.js","mtime":1538212059547},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.object.assign\";\nimport dayjs from 'dayjs';\nimport { get, toString } from 'lodash';\nimport util from '@/libs/util.js';\nexport default {\n  namespaced: true,\n  state: {\n    // 错误日志\n    list: []\n  },\n  getters: {\n    /**\n     * @description 返回现存 log (all) 的条数\n     * @param {*} state vuex state\n     */\n    length: function length(state) {\n      return state.list.length;\n    },\n\n    /**\n     * @description 返回现存 log (error) 的条数\n     * @param {*} state vuex state\n     */\n    lengthError: function lengthError(state) {\n      return state.list.filter(function (l) {\n        return l.type === 'error';\n      }).length;\n    }\n  },\n  actions: {\n    /**\n     * @description 添加一个日志\n     * @param {Object} param type {String} 类型\n     * @param {Object} param err {Error} 错误对象\n     * @param {Object} param vm {Object} vue 实例\n     * @param {Object} param info {String} 信息\n     */\n    add: function add(_ref, _ref2) {\n      var state = _ref.state,\n          rootState = _ref.rootState;\n      var type = _ref2.type,\n          err = _ref2.err,\n          vm = _ref2.vm,\n          info = _ref2.info;\n      // store 赋值\n      state.list.push(Object.assign({\n        // 记录类型\n        type: 'log',\n        // or error\n        // 信息\n        info: '',\n        // 错误对象\n        err: '',\n        // vue 实例\n        vm: '',\n        // 当前用户信息\n        user: rootState.d2admin.user.info,\n        // 当前用户的 uuid\n        uuid: util.cookies.get('uuid'),\n        // 当前的 token\n        token: util.cookies.get('token'),\n        // 当前地址\n        url: get(window, 'location.href', ''),\n        // 当前时间\n        time: dayjs().format('YYYY-M-D HH:mm:ss')\n      }, {\n        type: type,\n        err: err,\n        vm: vm,\n        info: toString(info)\n      }));\n    }\n  },\n  mutations: {\n    /**\n     * @description 清空日志\n     * @param {Object} state vuex state\n     */\n    clean: function clean(state) {\n      // store 赋值\n      state.list = [];\n    }\n  }\n};",{"version":3,"sources":["/Users/weizhibang/work/cloud_vue/src/store/modules/d2admin/modules/log.js"],"names":["dayjs","get","toString","util","namespaced","state","list","getters","length","lengthError","filter","l","type","actions","add","rootState","err","vm","info","push","Object","assign","user","d2admin","uuid","cookies","token","url","window","time","format","mutations","clean"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,QAAd,QAA8B,QAA9B;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AAEA,eAAe;AACbC,cAAY,IADC;AAEbC,SAAO;AACL;AACAC,UAAM;AAFD,GAFM;AAMbC,WAAS;AACP;;;;AAIAC,UALO,kBAKCH,KALD,EAKQ;AACb,aAAOA,MAAMC,IAAN,CAAWE,MAAlB;AACD,KAPM;;AAQP;;;;AAIAC,eAZO,uBAYMJ,KAZN,EAYa;AAClB,aAAOA,MAAMC,IAAN,CAAWI,MAAX,CAAkB;AAAA,eAAKC,EAAEC,IAAF,KAAW,OAAhB;AAAA,OAAlB,EAA2CJ,MAAlD;AACD;AAdM,GANI;AAsBbK,WAAS;AACP;;;;;;;AAOAC,OARO,4BAQ6C;AAAA,UAA7CT,KAA6C,QAA7CA,KAA6C;AAAA,UAAtCU,SAAsC,QAAtCA,SAAsC;AAAA,UAAvBH,IAAuB,SAAvBA,IAAuB;AAAA,UAAjBI,GAAiB,SAAjBA,GAAiB;AAAA,UAAZC,EAAY,SAAZA,EAAY;AAAA,UAARC,IAAQ,SAARA,IAAQ;AAClD;AACAb,YAAMC,IAAN,CAAWa,IAAX,CAAgBC,OAAOC,MAAP,CAAc;AAC5B;AACAT,cAAM,KAFsB;AAEf;AACb;AACAM,cAAM,EAJsB;AAK5B;AACAF,aAAK,EANuB;AAO5B;AACAC,YAAI,EARwB;AAS5B;AACAK,cAAMP,UAAUQ,OAAV,CAAkBD,IAAlB,CAAuBJ,IAVD;AAW5B;AACAM,cAAMrB,KAAKsB,OAAL,CAAaxB,GAAb,CAAiB,MAAjB,CAZsB;AAa5B;AACAyB,eAAOvB,KAAKsB,OAAL,CAAaxB,GAAb,CAAiB,OAAjB,CAdqB;AAe5B;AACA0B,aAAK1B,IAAI2B,MAAJ,EAAY,eAAZ,EAA6B,EAA7B,CAhBuB;AAiB5B;AACAC,cAAM7B,QAAQ8B,MAAR,CAAe,mBAAf;AAlBsB,OAAd,EAmBb;AACDlB,kBADC;AAEDI,gBAFC;AAGDC,cAHC;AAIDC,cAAMhB,SAASgB,IAAT;AAJL,OAnBa,CAAhB;AAyBD;AAnCM,GAtBI;AA2Dba,aAAW;AACT;;;;AAIAC,SALS,iBAKF3B,KALE,EAKK;AACZ;AACAA,YAAMC,IAAN,GAAa,EAAb;AACD;AARQ;AA3DE,CAAf","sourcesContent":["import dayjs from 'dayjs'\nimport { get, toString } from 'lodash'\nimport util from '@/libs/util.js'\n\nexport default {\n  namespaced: true,\n  state: {\n    // 错误日志\n    list: []\n  },\n  getters: {\n    /**\n     * @description 返回现存 log (all) 的条数\n     * @param {*} state vuex state\n     */\n    length (state) {\n      return state.list.length\n    },\n    /**\n     * @description 返回现存 log (error) 的条数\n     * @param {*} state vuex state\n     */\n    lengthError (state) {\n      return state.list.filter(l => l.type === 'error').length\n    }\n  },\n  actions: {\n    /**\n     * @description 添加一个日志\n     * @param {Object} param type {String} 类型\n     * @param {Object} param err {Error} 错误对象\n     * @param {Object} param vm {Object} vue 实例\n     * @param {Object} param info {String} 信息\n     */\n    add ({ state, rootState }, { type, err, vm, info }) {\n      // store 赋值\n      state.list.push(Object.assign({\n        // 记录类型\n        type: 'log', // or error\n        // 信息\n        info: '',\n        // 错误对象\n        err: '',\n        // vue 实例\n        vm: '',\n        // 当前用户信息\n        user: rootState.d2admin.user.info,\n        // 当前用户的 uuid\n        uuid: util.cookies.get('uuid'),\n        // 当前的 token\n        token: util.cookies.get('token'),\n        // 当前地址\n        url: get(window, 'location.href', ''),\n        // 当前时间\n        time: dayjs().format('YYYY-M-D HH:mm:ss')\n      }, {\n        type,\n        err,\n        vm,\n        info: toString(info)\n      }))\n    }\n  },\n  mutations: {\n    /**\n     * @description 清空日志\n     * @param {Object} state vuex state\n     */\n    clean (state) {\n      // store 赋值\n      state.list = []\n    }\n  }\n}\n"]}]}