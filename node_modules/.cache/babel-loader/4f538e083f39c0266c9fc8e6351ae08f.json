{"remainingRequest":"/Users/weizhibang/work/cloud_vue/node_modules/thread-loader/dist/cjs.js!/Users/weizhibang/work/cloud_vue/node_modules/babel-loader/lib/index.js!/Users/weizhibang/work/cloud_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/weizhibang/work/cloud_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weizhibang/work/cloud_vue/src/layout/header-aside/components/tabs/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weizhibang/work/cloud_vue/src/layout/header-aside/components/tabs/index.vue","mtime":1538206615098},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/cache-loader/dist/cjs.js","mtime":1538212059547},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/cache-loader/dist/cjs.js","mtime":1538212059547},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport _objectSpread from \"/Users/weizhibang/work/cloud_vue/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  components: {\n    D2Contextmenu: function D2Contextmenu() {\n      return import('../contextmenu');\n    },\n    D2ContextmenuList: function D2ContextmenuList() {\n      return import('../contextmenu/components/contentmenuList');\n    }\n  },\n  data: function data() {\n    return {\n      contextmenuFlag: false,\n      contentmenuX: 0,\n      contentmenuY: 0,\n      contextmenuListIndex: [{\n        icon: 'times-circle',\n        title: '关闭全部',\n        value: 'all'\n      }],\n      contextmenuList: [{\n        icon: 'arrow-left',\n        title: '关闭左侧',\n        value: 'left'\n      }, {\n        icon: 'arrow-right',\n        title: '关闭右侧',\n        value: 'right'\n      }, {\n        icon: 'times',\n        title: '关闭其它',\n        value: 'other'\n      }, {\n        icon: 'times-circle',\n        title: '关闭全部',\n        value: 'all'\n      }],\n      tagName: 'index'\n    };\n  },\n  computed: _objectSpread({}, mapState('d2admin/page', ['opened', 'current'])),\n  methods: _objectSpread({}, mapActions('d2admin/page', ['close', 'closeLeft', 'closeRight', 'closeOther', 'closeAll']), {\n    /**\n     * @description 右键菜单功能点击\n     */\n    handleContextmenu: function handleContextmenu(event) {\n      var target = event.target; // 解决 https://github.com/d2-projects/d2-admin/issues/54\n\n      var flag = false;\n      if (target.className.indexOf('el-tabs__item') > -1) flag = true;else if (target.parentNode.className.indexOf('el-tabs__item') > -1) {\n        target = target.parentNode;\n        flag = true;\n      }\n\n      if (flag) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.contentmenuX = event.clientX;\n        this.contentmenuY = event.clientY;\n        this.tagName = target.getAttribute('aria-controls').slice(5);\n        this.contextmenuFlag = true;\n      }\n    },\n\n    /**\n     * @description 右键菜单的row-click事件\n     */\n    contextmenuClick: function contextmenuClick(command) {\n      this.handleControlItemClick(command, this.tagName);\n    },\n\n    /**\n     * @description 接收点击关闭控制上选项的事件\n     */\n    handleControlItemClick: function handleControlItemClick(command) {\n      var tagName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (tagName) {\n        this.contextmenuFlag = false;\n      }\n\n      var params = {\n        pageSelect: tagName,\n        vm: this\n      };\n\n      switch (command) {\n        case 'left':\n          this.closeLeft(params);\n          break;\n\n        case 'right':\n          this.closeRight(params);\n          break;\n\n        case 'other':\n          this.closeOther(params);\n          break;\n\n        case 'all':\n          this.closeAll(this);\n          break;\n\n        default:\n          this.$message.error('无效的操作');\n          break;\n      }\n    },\n\n    /**\n     * @description 接收点击关闭控制上按钮的事件\n     */\n    handleControlBtnClick: function handleControlBtnClick() {\n      this.closeAll(this);\n    },\n\n    /**\n     * @description 接收点击 tab 标签的事件\n     */\n    handleClick: function handleClick(tab, event) {\n      // 找到点击的页面在 tag 列表里是哪个\n      var page = this.opened.find(function (page) {\n        return page.name === tab.name;\n      });\n      var name = page.name,\n          params = page.params,\n          query = page.query;\n\n      if (page) {\n        this.$router.push({\n          name: name,\n          params: params,\n          query: query\n        });\n      }\n    },\n\n    /**\n     * @description 点击 tab 上的删除按钮触发这里 首页的删除按钮已经隐藏 因此这里不用判断是 index\n     */\n    handleTabsEdit: function handleTabsEdit(tagName, action) {\n      if (action === 'remove') {\n        this.close({\n          tagName: tagName,\n          vm: this\n        });\n      }\n    }\n  })\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"d2-multiple-page-control-group\" flex>\n    <div class=\"d2-multiple-page-control-content\" flex-box=\"1\">\n      <div class=\"d2-multiple-page-control-content-inner\">\n        <d2-contextmenu\n          :visible.sync=\"contextmenuFlag\"\n          :x=\"contentmenuX\"\n          :y=\"contentmenuY\">\n          <d2-contextmenu-list\n            :menulist=\"tagName === 'index' ? contextmenuListIndex : contextmenuList\"\n            @rowClick=\"contextmenuClick\"/>\n        </d2-contextmenu>\n        <el-tabs\n          class=\"d2-multiple-page-control\"\n          :value=\"current\"\n          type=\"card\"\n          :closable=\"true\"\n          @tab-click=\"handleClick\"\n          @edit=\"handleTabsEdit\"\n          @contextmenu.native=\"handleContextmenu\">\n          <el-tab-pane\n            v-for=\"(page, index) in opened\"\n            :key=\"index\"\n            :label=\"page.meta.title || '未命名'\"\n            :name=\"page.name\"/>\n        </el-tabs>\n      </div>\n    </div>\n    <div\n      class=\"d2-multiple-page-control-btn\"\n      flex-box=\"0\">\n      <el-dropdown\n        size=\"default\"\n        split-button\n        @click=\"handleControlBtnClick\"\n        @command=\"command => handleControlItemClick(command)\">\n        <d2-icon name=\"times-circle\"/>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item command=\"left\">\n            <d2-icon name=\"arrow-left\" class=\"d2-mr-10\"/>\n            关闭左侧\n          </el-dropdown-item>\n          <el-dropdown-item command=\"right\">\n            <d2-icon name=\"arrow-right\" class=\"d2-mr-10\"/>\n            关闭右侧\n          </el-dropdown-item>\n          <el-dropdown-item command=\"other\">\n            <d2-icon name=\"times\" class=\"d2-mr-10\"/>\n            关闭其它\n          </el-dropdown-item>\n          <el-dropdown-item command=\"all\">\n            <d2-icon name=\"times-circle\" class=\"d2-mr-10\"/>\n            全部关闭\n          </el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nexport default {\n  components: {\n    D2Contextmenu: () => import('../contextmenu'),\n    D2ContextmenuList: () => import('../contextmenu/components/contentmenuList')\n  },\n  data () {\n    return {\n      contextmenuFlag: false,\n      contentmenuX: 0,\n      contentmenuY: 0,\n      contextmenuListIndex: [\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\n      ],\n      contextmenuList: [\n        { icon: 'arrow-left', title: '关闭左侧', value: 'left' },\n        { icon: 'arrow-right', title: '关闭右侧', value: 'right' },\n        { icon: 'times', title: '关闭其它', value: 'other' },\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\n      ],\n      tagName: 'index'\n    }\n  },\n  computed: {\n    ...mapState('d2admin/page', [\n      'opened',\n      'current'\n    ])\n  },\n  methods: {\n    ...mapActions('d2admin/page', [\n      'close',\n      'closeLeft',\n      'closeRight',\n      'closeOther',\n      'closeAll'\n    ]),\n    /**\n     * @description 右键菜单功能点击\n     */\n    handleContextmenu (event) {\n      let target = event.target\n      // 解决 https://github.com/d2-projects/d2-admin/issues/54\n      let flag = false\n      if (target.className.indexOf('el-tabs__item') > -1) flag = true\n      else if (target.parentNode.className.indexOf('el-tabs__item') > -1) {\n        target = target.parentNode\n        flag = true\n      }\n      if (flag) {\n        event.preventDefault()\n        event.stopPropagation()\n        this.contentmenuX = event.clientX\n        this.contentmenuY = event.clientY\n        this.tagName = target.getAttribute('aria-controls').slice(5)\n        this.contextmenuFlag = true\n      }\n    },\n    /**\n     * @description 右键菜单的row-click事件\n     */\n    contextmenuClick (command) {\n      this.handleControlItemClick(command, this.tagName)\n    },\n    /**\n     * @description 接收点击关闭控制上选项的事件\n     */\n    handleControlItemClick (command, tagName = null) {\n      if (tagName) {\n        this.contextmenuFlag = false\n      }\n      const params = {\n        pageSelect: tagName,\n        vm: this\n      }\n      switch (command) {\n        case 'left':\n          this.closeLeft(params)\n          break\n        case 'right':\n          this.closeRight(params)\n          break\n        case 'other':\n          this.closeOther(params)\n          break\n        case 'all':\n          this.closeAll(this)\n          break\n        default:\n          this.$message.error('无效的操作')\n          break\n      }\n    },\n    /**\n     * @description 接收点击关闭控制上按钮的事件\n     */\n    handleControlBtnClick () {\n      this.closeAll(this)\n    },\n    /**\n     * @description 接收点击 tab 标签的事件\n     */\n    handleClick (tab, event) {\n      // 找到点击的页面在 tag 列表里是哪个\n      const page = this.opened.find(page => page.name === tab.name)\n      const { name, params, query } = page\n      if (page) {\n        this.$router.push({ name, params, query })\n      }\n    },\n    /**\n     * @description 点击 tab 上的删除按钮触发这里 首页的删除按钮已经隐藏 因此这里不用判断是 index\n     */\n    handleTabsEdit (tagName, action) {\n      if (action === 'remove') {\n        this.close({\n          tagName,\n          vm: this\n        })\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/layout/header-aside/components/tabs"}]}