{"remainingRequest":"/Users/weizhibang/work/cloud_vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weizhibang/work/cloud_vue/src/layout/header-aside/components/contextmenu/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weizhibang/work/cloud_vue/src/layout/header-aside/components/contextmenu/index.vue","mtime":1538206615090},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/cache-loader/dist/cjs.js","mtime":1538212059547},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/cache-loader/dist/cjs.js","mtime":1538212059547},{"path":"/Users/weizhibang/work/cloud_vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'd2-contextmenu',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    flag: {\n      get () {\n        if (this.visible) {\n          // 注册全局监听事件 [ 目前只考虑鼠标解除触发 ]\n          window.addEventListener('mousedown', this.watchContextmenu)\n        }\n        return this.visible\n      },\n      set (newVal) {\n        this.$emit('update:visible', newVal)\n      }\n    },\n    style () {\n      return {\n        left: this.x + 'px',\n        top: this.y + 'px',\n        display: this.visible ? 'block' : 'none '\n      }\n    }\n  },\n  methods: {\n    watchContextmenu (event) {\n      if (!this.$el.contains(event.target) || event.button !== 0) this.flag = false\n      window.removeEventListener('mousedown', this.watchContextmenu)\n    }\n  },\n  mounted () {\n    // 将菜单放置到body下\n    document.querySelector('body').appendChild(this.$el)\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/header-aside/components/contextmenu","sourcesContent":["<template>\n  <div\n    class=\"d2-contextmenu\"\n    v-show=\"flag\"\n    :style=\"style\">\n    <slot/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'd2-contextmenu',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    x: {\n      type: Number,\n      default: 0\n    },\n    y: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    flag: {\n      get () {\n        if (this.visible) {\n          // 注册全局监听事件 [ 目前只考虑鼠标解除触发 ]\n          window.addEventListener('mousedown', this.watchContextmenu)\n        }\n        return this.visible\n      },\n      set (newVal) {\n        this.$emit('update:visible', newVal)\n      }\n    },\n    style () {\n      return {\n        left: this.x + 'px',\n        top: this.y + 'px',\n        display: this.visible ? 'block' : 'none '\n      }\n    }\n  },\n  methods: {\n    watchContextmenu (event) {\n      if (!this.$el.contains(event.target) || event.button !== 0) this.flag = false\n      window.removeEventListener('mousedown', this.watchContextmenu)\n    }\n  },\n  mounted () {\n    // 将菜单放置到body下\n    document.querySelector('body').appendChild(this.$el)\n  }\n}\n</script>\n\n<style>\n.d2-contextmenu {\n  position: absolute;\n  padding: 5px 0;\n  z-index: 2018;\n  background: #FFF;\n  border: 1px solid #cfd7e5;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n}\n</style>\n"]}]}